<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Traveller's Library - Guiding Pathways to Tourism Knowledge</title>
    <link rel="stylesheet" href="index.css"><link rel="icon" href="Favicon TTL (Y).ico" type="image/x-icon">
    
</head>

<body>

    <!-- NAVBAR -->
<nav id="navbar">
    <div class="nav-left">
        <div class="logo">
            <a href="index.html">
                <img src="Index Visuals/Navbar/TTL Logo.jfif" alt="Logo">
            </a>
        </div>
        <div class="library-name">
            <h2>THE TRAVELLER'S LIBRARY</h2>
        </div>
    </div>

    <ul class="menu">
        <li><a href="index.html">Home</a></li>
        <li><a href="Webpages/IML625 GP Website/About us.html" target="_blank">Profile</a></li>
        <li class="services-dropdown">
            <a href="#">Services &#9662;</a>
            <ul class="dropdown">
                <li><a href="http://10.125.129.43:8081" target="_blank">OPAC</a></li>
                <li><a href="https://fliphtml5.com/bookcase/mrqbd/" target="_blank">E-Resources</a></li>
                <li><a href="http://10.125.129.122" target="_blank">Institutional Repository</a></li>
                <li><a href="Webpages/Useful Links/Useful Links.html" target="_blank">Useful Links</a></li>
            </ul>
        </li>
        <li><a href="Webpages/Contact Us/Contact Us.html" target="_blank">Contact Us</a></li>
    </ul>
</nav>


    <!-- SECTION 1 : HERO -->
    <section class="section hero" id="section1">
        <div class="hero-content">
            <svg viewBox="0 0 500 240" width="100%" height="100%">

                <!-- Main curve -->
                <path id="curve-main" d="M10,140 Q250,50 490,140" fill="transparent"></path>

                <!-- Sub curve -->
                <path id="curve-sub" d="M30,160 Q250,90 470,160" fill="transparent"></path>

                <!-- Main text with white stroke -->
                <text font-family="Arial" font-size="20" stroke="white" stroke-width="6" fill="none" font-weight="bold">
                    <textPath href="#curve-main" startOffset="50%" text-anchor="middle">
                        WELCOME TO THE TRAVELLER'S LIBRARY
                    </textPath>
                </text>
                <text font-family="Arial" font-size="20" fill="black" font-weight="bold">
                    <textPath href="#curve-main" startOffset="50%" text-anchor="middle">
                        WELCOME TO THE TRAVELLER'S LIBRARY
                    </textPath>
                </text>

                <!-- Sub text with white stroke -->
                <text font-family="Arial" font-size="18" stroke="white" stroke-width="5" fill="none" font-weight="bold">
                    <textPath href="#curve-sub" startOffset="50%" text-anchor="middle">
                        "Guiding Pathways to Tourism Knowledge"
                    </textPath>
                </text>
                <text font-family="Arial" font-size="18" fill="black" font-weight="bold">
                    <textPath href="#curve-sub" startOffset="50%" text-anchor="middle">
                        "Guiding Pathways to Tourism Knowledge"
                    </textPath>
                </text>

                <!-- Functional Search bar (simplified) -->
                <foreignObject x="110" y="180" width="315" height="30">
                    <div xmlns="http://www.w3.org/1999/xhtml" class="search-bar-container">
                        <input type="text" id="searchInput" placeholder="Search in OPAC..." />
                        <button type="button" id="dropdownBtn" onclick="toggleSearchDropdown()">
                            <span id="selectedService">OPAC</span>
                            <span class="arrow">â–¼</span>
                        </button>
                        <button type="button" class="search-btn" onclick="performSearch()">
                            <svg width="15" height="15" viewBox="0 0 15 15">
                                <circle cx="6" cy="6" r="4" stroke="#555" stroke-width="1.5" fill="none"></circle>
                                <line x1="8.5" y1="8.5" x2="12" y2="12" stroke="#555" stroke-width="1.5"></line>
                            </svg>
                        </button>
                    </div>
                </foreignObject>

            </svg>
        </div>
        
        <!-- Search Dropdown Menu (outside SVG for proper positioning) -->
        <div id="searchDropdown" class="search-dropdown-menu">
            <div class="dropdown-item" onclick="selectService('OPAC', 'http://10.125.129.43:8081')">OPAC</div>
            <div class="dropdown-item" onclick="selectService('E-Res.', 'https://fliphtml5.com/bookcase/mrqbd/')">E-Resources</div>
            <div class="dropdown-item" onclick="selectService('Inst. Rep.', 'http://10.125.129.122')">Institutional Repository</div>
        </div>
    </section>

    <!-- SECTION 2 & 3 COMBINED -->
    <section class="section combined-section" id="section2-3">
        
        <!-- LEFT SIDE: SERVICES (2/5) -->
        <div class="services-container">
            <h2 class="section-title" id="h2s3">Our Services</h2>

            <div class="services-grid">

                <div class="service-box">
                    <a href="http://10.125.129.43:8081" target="_blank">
                        <img src="Index Visuals/Section 3/Services Logo/Koha Logo.png" id="opac" alt="OPAC" />
                    </a>
                    <span class="service-title">OPAC</span>
                    <p class="service-desc">Search library materials</p>
                </div>

                <div class="service-box">
                    <a href="https://fliphtml5.com/bookcase/mrqbd/" target="_blank">
                        <img src="Index Visuals/Section 3/Services Logo/E-Resources Logo.png" id="er" alt="E-Resources" />
                    </a>
                    <span class="service-title">E-Resources</span>
                    <p class="service-desc">Digital books collection</p>
                </div>

                <div class="service-box">
                    <a href="http://10.125.129.122" target="_blank">
                        <img src="Index Visuals/Section 3/Services Logo/Institutional Repository Logo.png" id="ir" alt="Institutional Repository" />
                    </a>
                    <span class="service-title">Institutional Repository</span>
                    <p class="service-desc">Academic works archive</p>
                </div>

                <div class="service-box">
                    <a href="Webpages/Useful Links/Useful Links.html" target="_blank">
                        <img src="Index Visuals/Section 3/Services Logo/Useful Links.png" alt="Useful Links" id="ul">
                    </a>
                    <span class="service-title">Useful Links</span>
                    <p class="service-desc">External resources</p>
                </div>

            </div>
        </div>

        <!-- RIGHT SIDE: NEWS (3/5) -->
        <div class="news-container">
            <h2 id="h2s2">News</h2>
            
            <div class="slideshow-container">

                <div class="mySlides">
                    <a href="https://www.untourism.int/news/international-tourist-arrivals-up-4-in-2025-reflecting-strong-travel-demand-around-the-world" 
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S1 - UN Tourism News.png" alt="International tourist arrivals up 4% in 2025 reflecting strong travel demand around the world - UN Tourism"
                    title="International tourist arrivals up 4% in 2025 reflecting strong travel demand around the world - UN Tourism" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.tourism-review.com/southeast-asias-tourism-is-mostly-recovered-news15145" target="_blank">
                    <img src="Index Visuals/Section 2/Slides/S2 - Tourism Review News.png" alt="Southeast Asia'S Tourism Industry Renaissance - Tourism Review" title="Southeast Asia'S Tourism Industry Renaissance - Tourism Review" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.malaymail.com/news/malaysia/2025/12/18/stats-dept-malaysias-domestic-tourism-hits-216-million-visitors-rm884b-spending/202427"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S3 - Malay Mail News.png" alt="Stats Dept: Malaysia's domestic tourism hits 216 million visitors, RM88.4b spending - Malay Mail" title="Stats Dept: Malaysia's domestic tourism hits 216 million visitors, RM88.4b spending - Malay Mail" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.thestar.com.my/news/nation/2026/01/24/restoring-trust-in-tourism-industry"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S4 - The Star A1.png" alt="Restoring Trust in tourism industry - The Star" title="Restoring Trust in tourism industry - The Star" /></a>
                </div>
                
                <div class="mySlides">
                    <a href="https://www.thestar.com.my/news/nation/2025/11/13/expanding-tourism-focus-beyond-asean"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S5 - The Star A2.png" alt="Expanding tourism focus beyond Asean - The Star" title="Expanding tourism focus beyond Asean - The Star" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.thestar.com.my/news/nation/2025/11/14/khazanah-invested-over-rm4bil-in-tourism-sites"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S6 - The Star A3.png" alt="Khazanah invested over RM4bil in tourism sites - The Star" title="Khazanah invested over RM4bil in tourism sites - The Star" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.thestar.com.my/lifestyle/travel/2025/02/19/tourism-selangor-forges-strategic-partnerships-to-boost-vsy-2025"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S7 - The Star A4.png" alt="Tourism Selangor forges strategic partnerships to boost VSY 2025 - The Star" title="Tourism Selangor forges strategic partnerships to boost VSY 2025 - The Star" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.bharian.com.my/bisnes/lain-lain/2025/03/1369286/malaysia-pasaran-pelancongan-keempat-paling-lestari-di-asia"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S8 - BH A1.png" alt="Malaysia pasaran pelancongan keempat paling lestari di Asia - Berita Harian" title="Malaysia pasaran pelancongan keempat paling lestari di Asia - Berita Harian" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.bharian.com.my/berita/nasional/2025/09/1451193/malaysia-komited-bangunkan-industri-pelancongan-bertaraf-dunia-pm"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S9 - BH A2.png" alt="Malaysia komited bangunkan industri pelancongan bertaraf dunia - PM - Berita Harian" title="Malaysia komited bangunkan industri pelancongan bertaraf dunia - PM - Berita Harian" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.sinarharian.com.my/article/740944/berita/nasional/malaysia-nombor-satu-dalam-pelancongan-mesra-muslim"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S10 - Sinar Harian News.png" alt="Malaysia nombor satu dalam Pelancongan Mesra Muslim - Sinar Harian" title="Malaysia nombor satu dalam Pelancongan Mesra Muslim - Berita Harian" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.utusan.com.my/terkini/2021/12/langkawi-catat-pendapatan-rm487-juta/"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S11 - Utusan Malaysia News.png" alt="Langkawi catat pendapatan RM487 juta - Utusan Malaysia" title="Langkawi catat pendapatan RM487 juta - Utusan Malaysia" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.tourism.gov.my/media/view/tourism-malaysia-dan-aeon-bekerjasama-dalam-kolaborasi-strategik-promosi-tahun-melawat-malaysia-2026"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S12 - Tourism Malaysia A1.png" alt="Tourism Malaysia dan AEON Bekerjasama dalam Kolaborasi Strategik Promosi Tahun Melawat Malaysia 2026 - Tourism Malaysia" 
                    title="Tourism Malaysia dan AEON Bekerjasama dalam Kolaborasi Strategik Promosi Tahun Melawat Malaysia 2026 - Tourism Malaysia" /></a>
                </div>

                <div class="mySlides">
                    <a href="https://www.tourism.gov.my/media/view/juneyao-air-launches-inaugural-flight-from-shanghai-to-tawau"
                    target="_blank"><img src="Index Visuals/Section 2/Slides/S13 - Tourism Malaysia A2.png" alt="Juneyao Air Launches Inaugural Flight from Shanghai to Tawau - Tourism Malaysia" 
                    title="Tourism Malaysia dan AEON Bekerjasama dalam Kolaborasi Strategik Promosi Tahun Melawat Malaysia 2026 - Tourism Malaysia" /></a>
                </div>

                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>

            </div>
        </div>

    </section>



    <!-- CHATBOT -->
<div class="chat-card" id="chatWindow" aria-hidden="true">
    <div class="header">
        <div class="header-content">
            <div class="avatar">ðŸ¤–</div>
            <div class="header-info">
                <h2>Chat Support</h2>
                <p>Hi, my name is Sam. How can I help you?</p>
            </div>
        </div>
        <button class="close-btn" onclick="toggleChat()">Ã—</button>
    </div>

    <div class="chat-body" id="chatBody">
        <div class="msg bot">Hello! I'm your AI assistant. How can I assist you today?</div>
    </div>

    <div class="footer">
        <input type="text" id="userInput" placeholder="Type a message..." autocomplete="off">
        <button class="send-btn" onclick="sendMessage()">Send</button>
    </div>
</div>

<!-- FLOATING CHAT ICON -->
<div class="floating-icon" id="chatIcon" onclick="toggleChat()" aria-label="Open chat">
    <svg width="35" height="35" viewBox="0 0 24 24" fill="white">
        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
        <circle cx="8" cy="9" r="1.5" fill="#86CFFF"/>
        <circle cx="12" cy="9" r="1.5" fill="#86CFFF"/>
        <circle cx="16" cy="9" r="1.5" fill="#86CFFF"/>
    </svg>
</div>

    
    <!-- FOOTER -->
    <footer>
        <div class="footer-container">

            <div class="footer-left">
                Â© The Traveller's Library, 2026. This library portal is to complete a group project under IML625.
            </div>

            <a href="https://www.freecounterstat.com" title="visitors counter"><img src="https://counter1.optistats.ovh/private/freecounterstat.php?c=5s3ct8llmes886ydn3b3tu4n39cdpfq2" 
                border="0" title="visitors counter" alt="visitors counter"></a>

            <div class="footer-right">
                <a href="https://www.facebook.com/share/181qiN9eAF/?mibextid=wwXIfr" target="_blank"><img src="Index Visuals/Footer/SocMed Logo/Facebook Logo.png" alt="Facebook" /></a>
                <a href="https://www.instagram.com/travellers_library?igsh=ajk1NGNwa2ZhZjgz&utm_source=qr" target="_blank"><img src="Index Visuals/Footer/SocMed Logo/Instagram Logo.jfif" alt="Instagram" /></a>
                <a href="mailto:searah2024@gmail.com"><img src="Index Visuals/Footer/SocMed Logo/Gmail.png" alt="Gmail" /></a>
                <a href="#"><img src="Index Visuals/Footer/Top Arrow.webp" id="footerimg" alt="Back to top" /></a>
            </div>

        </div>
    </footer>

<script>
// Search dropdown functionality
let selectedServiceUrl = 'http://10.125.129.43:8081'; // Default to OPAC

function toggleSearchDropdown() {
    const dropdown = document.getElementById('searchDropdown');
    dropdown.classList.toggle('show');
}

function selectService(name, url) {
    document.getElementById('selectedService').textContent = name;
    selectedServiceUrl = url;
    document.getElementById('searchDropdown').classList.remove('show');
    
    // Update placeholder based on selected service
    const searchInput = document.getElementById('searchInput');
    searchInput.placeholder = `Search in ${name}...`;
}

// Close dropdown when clicking outside
document.addEventListener('click', function(event) {
    const dropdown = document.getElementById('searchDropdown');
    const dropdownBtn = document.getElementById('dropdownBtn');
    
    if (dropdown && dropdownBtn && 
        !dropdown.contains(event.target) && 
        !dropdownBtn.contains(event.target)) {
        dropdown.classList.remove('show');
    }
});

// Search functionality
function performSearch() {
    const searchInput = document.getElementById('searchInput').value.toLowerCase().trim();
    
    // Open the selected service URL (with search query if the service supports it)
    if (selectedServiceUrl) {
        // For OPAC (Koha), you can append search query
        if (selectedServiceUrl.includes('8081')) {
            // Koha search URL format
            window.open(`${selectedServiceUrl}/cgi-bin/koha/opac-search.pl?q=${encodeURIComponent(searchInput)}`, '_blank');
        } else {
            // For other services, just open the URL
            window.open(selectedServiceUrl, '_blank');
        }
    } else {
        alert('Please select a service to search');
    }
}

// Allow Enter key to trigger search
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
    }
});

// Slideshow functionality
let slideIndex = 1;
let slideDirection = 1;
let isAnimating = false;
showSlides(slideIndex, false);

function plusSlides(n) {
    if (isAnimating) return;
    isAnimating = true;
    
    let slides = document.getElementsByClassName("mySlides");
    let currentSlide = slideIndex - 1;
    let nextIndex = slideIndex + n;
    
    if (nextIndex > slides.length) { nextIndex = 1; }
    if (nextIndex < 1) { nextIndex = slides.length; }
    let nextSlide = nextIndex - 1;
    
    slideDirection = n;
    
    // Animate out current slide
    if (slideDirection > 0) {
        slides[currentSlide].classList.add('slide-out-left');
    } else {
        slides[currentSlide].classList.add('slide-out-right');
    }
    
    // Show and animate in next slide
    slides[nextSlide].style.display = "block";
    if (slideDirection > 0) {
        slides[nextSlide].classList.add('slide-in-right');
    } else {
        slides[nextSlide].classList.add('slide-in-left');
    }
    
    slideIndex = nextIndex;
    
    setTimeout(() => {
        slides[currentSlide].style.display = "none";
        slides[currentSlide].classList.remove('slide-out-left', 'slide-out-right');
        slides[nextSlide].classList.remove('slide-in-left', 'slide-in-right');
        isAnimating = false;
    }, 1500);
}

function showSlides(n, animate = true) {
    let slides = document.getElementsByClassName("mySlides");
    if (n > slides.length) { slideIndex = 1 }
    if (n < 1) { slideIndex = slides.length }
    
    for (let i = 0; i < slides.length; i++) { 
        slides[i].style.display = "none"; 
    }
    
    slides[slideIndex - 1].style.display = "block";
}

// Intersection Observer for section animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting && entry.target.classList.contains('section')) {
            entry.target.classList.add('animate-in');
        }
    });
}, observerOptions);

// Observe only sections, not navbar or footer
document.querySelectorAll('.section').forEach(section => {
    observer.observe(section);
});
</script>

<script>
/* ==========================
   CHATBOT FUNCTIONALITY
   ========================== */

const API_KEY = "AIzaSyB11abzY0-TzUX807vxPw0dTEU7K8ChQ6Y";

function toggleChat() {
    const chatWindow = document.getElementById('chatWindow');
    chatWindow.classList.toggle('active');
    chatWindow.setAttribute(
        'aria-hidden',
        !chatWindow.classList.contains('active')
    );
}

async function sendMessage() {
    const input = document.getElementById('userInput');
    const chatBody = document.getElementById('chatBody');
    const userText = input.value.trim();

    if (userText === "") return;

    /* User bubble */
    const userDiv = document.createElement('div');
    userDiv.className = 'msg user';
    userDiv.textContent = userText;
    chatBody.appendChild(userDiv);

    input.value = "";
    chatBody.scrollTop = chatBody.scrollHeight;

    /* Typing bubble */
    const botDiv = document.createElement('div');
    botDiv.className = 'msg bot';
    botDiv.textContent = "Sam is typing...";
    chatBody.appendChild(botDiv);
    chatBody.scrollTop = chatBody.scrollHeight;

    try {
        const response = await fetch(
            `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`,
            {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [{ text: userText }]
                    }]
                })
            }
        );

        const data = await response.json();

        if (data.candidates && data.candidates[0]?.content?.parts?.length) {
            botDiv.textContent = data.candidates[0].content.parts[0].text;
        } else {
            botDiv.textContent = "I'm sorry, I couldn't understand that.";
        }
    } catch (error) {
        botDiv.textContent = "Connection error. Please try again later.";
        console.error(error);
    }

    chatBody.scrollTop = chatBody.scrollHeight;
}

/* Enter key support */
document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById("userInput");
    if (input) {
        input.addEventListener("keypress", (e) => {
            if (e.key === "Enter") sendMessage();
        });
    }
});
</script>


</body>
</html>
