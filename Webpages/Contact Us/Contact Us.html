<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - The Traveller's Library</title>
    <link rel="stylesheet" href="Contact Us Styling.css"><link rel="icon" href="../../Favicon TTL (Y).ico" type="image/x-icon">
</head>
<body>

    <!-- NAVBAR -->
    <nav id="navbar">
        <div class="nav-left">
            <div class="logo">
                <a href="../../index.html" target="_blank">
                    <img src="../../Index Visuals/Navbar/TTL Logo.jfif" alt="Logo">
                </a>
            </div>
            <div class="library-name">
                <h2>THE TRAVELLER'S LIBRARY</h2>
            </div>
        </div>

        <ul class="menu">
            <li><a href="../../index.html" target="_blank">Home</a></li>
            <li><a href="../IML625 GP Website/About us.html" target="_blank">Profile</a></li>
            <li>
                <a>Services &#9662;</a>
                <ul class="dropdown">
                    <li><a href="http://10.125.129.43:8081" target="_blank">OPAC</a></li>
                    <li><a href="https://fliphtml5.com/bookcase/mrqbd/" target="_blank">E-Resources</a></li>
                    <li><a href="http://10.125.129.122" target="_blank">Institutional Repository</a></li>
                    <li><a href="../Useful Links/Useful Links.html" target="_blank">Useful Links</a></li>
                </ul>
            </li>
            <li><a href="../Contact Us/Contact Us.html">Contact Us</a></li>
        </ul>
    </nav>

    <!-- MAIN CONTENT SECTION -->
    <section id="contact" class="main-section">
        <h1 class="main-title">CONTACT US</h1>

        <div class="contact-container">
            <div class="contact-info">
                <h2 class="sub-heading">WE ARE HERE TO HELP :)</h2>
                <p class="description">
                    Please let us know how we can best serve you. You can use the contact form to email us or select from the topics below that best fit your needs. It's an honor to support you in your journey towards better knowledge.
                </p>
                
                <div class="contact-details">
                    <div class="detail-item">
                        <span class="icon">üìç</span>
                        <p>Universiti Teknologi MARA, UiTM Cawangan Negeri Sembilan Kampus, Jalan, Kampung Pilin, 71300 Rembau, Negeri Sembilan</p>
                    </div>
                    <div class="detail-item">
                        <span class="icon">‚úâÔ∏è</span>
                        <p>tourismxlibrary@gmail.com</p>
                    </div>
                    <div class="detail-item">
                        <span class="icon">üìû</span>
                        <p>+60123456789</p>
                    </div>
                </div>
            </div>

            <div class="contact-form">
                <form id="googleForm" action="https://docs.google.com/forms/d/e/1FAIpQLSetnsY4SaywDGp6OxmHf-BYksTP8O4ho4nUr3DwMKx2pEeOaQ/formResponse"
                method="POST">
                    <input type="text" name="entry.1829287987" placeholder="NAME" required>
                    <input type="email" name="entry.128281353" placeholder="EMAIL" required>
                    <input type="tel" name="entry.1858354903" placeholder="PHONE NUMBER" required>
                    <textarea placeholder="TYPE YOUR MESSAGE" name="entry.320568649" required></textarea>
                    
                    <button type="submit" class="send-btn">SEND MESSAGE</button>
                </form>
                

                <div class="security-notice">
                    <p>This site is protected by reCAPTCHA and the Google <a href="#">Privacy Policy</a> and <a href="#">Terms of Service</a> apply.</p>
                </div>
            </div>
        </div>
    </section>

       <!-- CHATBOT -->
<div class="chat-card" id="chatWindow" aria-hidden="true">
    <div class="header">
        <div class="header-content">
            <div class="avatar">ü§ñ</div>
            <div class="header-info">
                <h2>Chat Support</h2>
                <p>Hi, my name is Sam. How can I help you?</p>
            </div>
        </div>
        <button class="close-btn" onclick="toggleChat()">√ó</button>
    </div>

    <div class="chat-body" id="chatBody">
        <div class="msg bot">Hello! I'm your AI assistant. How can I assist you today?</div>
    </div>

    <div class="footer">
        <input type="text" id="userInput" placeholder="Type a message..." autocomplete="off">
        <button class="send-btn" onclick="sendMessage()">Send</button>
    </div>
</div>

<!-- FLOATING CHAT ICON -->
<div class="floating-icon" id="chatIcon" onclick="toggleChat()" aria-label="Open chat">
    <svg width="35" height="35" viewBox="0 0 24 24" fill="white">
        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
        <circle cx="8" cy="9" r="1.5" fill="#86CFFF"/>
        <circle cx="12" cy="9" r="1.5" fill="#86CFFF"/>
        <circle cx="16" cy="9" r="1.5" fill="#86CFFF"/>
    </svg>
</div>
   
    <!-- FOOTER -->
    <footer>
        <div class="footer-container">
            <div class="footer-left">
                ¬© The Traveller's Library, 2026. This library portal is to complete a group project under IML625.
            </div>

<a href="https://www.freecounterstat.com" title="visitors counter"><img src="https://counter1.optistats.ovh/private/freecounterstat.php?c=5s3ct8llmes886ydn3b3tu4n39cdpfq2" 
                border="0" title="visitors counter" alt="visitors counter"></a>

            <div class="footer-right">
                <a href="https://www.facebook.com/share/181qiN9eAF/?mibextid=wwXIfr" target="_blank"><img src="../../Index Visuals/Footer/SocMed Logo/Facebook Logo.png" alt="Facebook" /></a>
                <a href="https://www.instagram.com/travellers_library?igsh=ajk1NGNwa2ZhZjgz&utm_source=qr" target="_blank"><img src="../../Index Visuals/Footer/SocMed Logo/Instagram Logo.jfif" alt="Instagram" /></a>
                <a href="searah2024@gmail.com"><img src="../../Index Visuals/Footer/SocMed Logo/Gmail.png" alt="Gmail" /></a>
                <a href="#navbar"><img src="../../Index Visuals/Footer/Top Arrow.webp" id="footerimg" alt="Back to top" /></a>
            </div>
        </div>
    </footer>

    <script>
        // Intersection Observer for main section fade animation
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.target.classList.contains('main-section')) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, observerOptions);

        // Observe main section
        document.querySelector('.main-section').addEventListener('DOMContentLoaded', observer.observe(document.querySelector('.main-section')));
        
        // Trigger animation on page load
        window.addEventListener('load', () => {
            document.querySelector('.main-section').classList.add('animate-in');
        });
    </script>
    <script>
document.getElementById('googleForm').addEventListener('submit', function(e){
    e.preventDefault(); // Prevent default form submission
    const form = e.target;
    fetch(form.action, {
        method: 'POST',
        body: new FormData(form),
        mode: 'no-cors' // Google Forms only allows no-cors submissions
    }).then(() => {
        alert('Your message has been sent successfully!');
        form.reset();
    }).catch(() => {
        alert('There was an error sending your message.');
    });
});
</script>

<script>
/* ==========================
   CHATBOT FUNCTIONALITY
   ========================== */

const API_KEY = "AIzaSyB11abzY0-TzUX807vxPw0dTEU7K8ChQ6Y";

function toggleChat() {
    const chatWindow = document.getElementById('chatWindow');
    chatWindow.classList.toggle('active');
    chatWindow.setAttribute(
        'aria-hidden',
        !chatWindow.classList.contains('active')
    );
}

async function sendMessage() {
    const input = document.getElementById('userInput');
    const chatBody = document.getElementById('chatBody');
    const userText = input.value.trim();

    if (userText === "") return;

    /* User bubble */
    const userDiv = document.createElement('div');
    userDiv.className = 'msg user';
    userDiv.textContent = userText;
    chatBody.appendChild(userDiv);

    input.value = "";
    chatBody.scrollTop = chatBody.scrollHeight;

    /* Typing bubble */
    const botDiv = document.createElement('div');
    botDiv.className = 'msg bot';
    botDiv.textContent = "Sam is typing...";
    chatBody.appendChild(botDiv);
    chatBody.scrollTop = chatBody.scrollHeight;

    try {
        const response = await fetch(
            `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`,
            {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [{ text: userText }]
                    }]
                })
            }
        );

        const data = await response.json();

        if (data.candidates && data.candidates[0]?.content?.parts?.length) {
            botDiv.textContent = data.candidates[0].content.parts[0].text;
        } else {
            botDiv.textContent = "I'm sorry, I couldn't understand that.";
        }
    } catch (error) {
        botDiv.textContent = "Connection error. Please try again later.";
        console.error(error);
    }

    chatBody.scrollTop = chatBody.scrollHeight;
}

/* Enter key support */
document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById("userInput");
    if (input) {
        input.addEventListener("keypress", (e) => {
            if (e.key === "Enter") sendMessage();
        });
    }
});
</script>

</body>
</html>